(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{408:function(v,_,t){"use strict";t.r(_);var a=t(2),r=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/mlops-p.png",width:"53%",align:"right"}})]),v._v(" "),_("h1",{attrs:{id:"目录"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[v._v("#")]),v._v(" 目录")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%A6%82%E8%BF%B0"}},[v._v("概述")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E4%BB%A5%E6%A8%A1%E5%9E%8B%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%9A%84%E5%81%8F%E8%A7%81"}},[v._v("以模型为中心的偏见")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A4%8D%E6%9D%82%E6%80%A7"}},[v._v("机器学习系统的复杂性")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E5%8F%8D%E6%98%A0%E4%BA%86%E5%AE%83%E6%89%80%E8%AE%AD%E7%BB%83%E7%9A%84%E6%95%B0%E6%8D%AE"}},[v._v("机器学习模型反映了它所训练的数据")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E8%84%86%E5%BC%B1%E6%80%A7%E5%92%8C%E9%80%82%E5%BA%94%E6%80%A7"}},[v._v("脆弱性和适应性")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E5%8D%95%E7%BA%AF%E7%9A%84%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%B8%8D%E8%83%BD%E5%B8%A6%E6%9D%A5%E4%BB%B7%E5%80%BC"}},[v._v("单纯的机器学习模型并不能带来价值")])])])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%B3%BB%E7%BB%9F"}},[v._v("什么是机器学习系统？")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%97%A9%E6%9C%9F%E9%98%B6%E6%AE%B5%E7%9A%84PoC%E9%A1%B9%E7%9B%AE"}},[v._v("早期阶段的PoC项目")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%97%A0%E6%A0%87%E7%AD%BE%E7%9A%84%E6%83%85%E5%86%B5"}},[v._v("无标签的情况")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%A0%87%E7%AD%BE%E5%AD%98%E5%9C%A8%E4%BA%8E%E6%8E%A8%E7%90%86%E7%9A%84%E5%8F%8D%E9%A6%88%E6%95%B0%E6%8D%AE%E4%B8%AD"}},[v._v("标签存在于推理的反馈数据中")])])])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%80%BB%E7%BB%93"}},[v._v("总结")])])]),v._v(" "),_("h2",{attrs:{id:"概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),_("p",[v._v("一个有效的人工智能产品不仅仅包含一个机器学习模型。你需要在你的机器学习的“汤”中添加很多成分，使其为客户带来价值。我们把所有这些成分放在一起称为机器学习系统。")]),v._v(" "),_("p",[v._v("但我们往往过多地关注我们的机器学习模型，而忽视了大局的其他部分。我把这种现象称为以"),_("strong",[v._v("模型为中心(model-centric)的偏见")]),v._v("。")]),v._v(" "),_("p",[v._v("以模型为中心的偏见会导致糟糕的结果，这有多种原因：")]),v._v(" "),_("p",[v._v("首先，我们的机器学习系统的大部分复杂性存在于机器学习模型的源代码之外。如果我们忽略了这个事实，只专注于模型开发，我们就有可能积累过多的技术、文化和研究债务。")]),v._v(" "),_("p",[v._v("第二，机器学习模型除了编程代码外还有一个额外的组成部分——数据。你的模型只能和你的数据一样好，而以模型为中心的偏见造成了一种忽视数据的倾向。")]),v._v(" "),_("p",[v._v("由于对数据的依赖，机器学习系统往往比传统软件更脆弱。我们必须做出额外的系统设计决定来处理这种脆弱性，并将适应性引入到系统中。")]),v._v(" "),_("p",[v._v("最后，从精益的角度来看，只有作为一个整体和闭环的系统才能为客户带来价值。这就是为什么我们需要停止孤立地思考我们的机器学习模型，而是将其视为一个动态的、不断适应的系统——"),_("strong",[v._v("机器学习系统的一部分")]),v._v("。")]),v._v(" "),_("p",[v._v("文章的其余部分将更详细地探讨这一概念。")]),v._v(" "),_("h2",{attrs:{id:"以模型为中心的偏见"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#以模型为中心的偏见"}},[v._v("#")]),v._v(" 以模型为中心的偏见")]),v._v(" "),_("p",[v._v("以模型为中心的偏见的起源来自于我们在人工智能和机器学习社区制定研究目标的方式。我们使用标准数据集创建一个基准，并撰写论文，试图在上面击败当前的SOTA（state-of-the-art model，是指在特定任务中目前表现最好的方法或模型）。同样的方法也出现在应用机器学习和数据科学社区，比较有名的是以Kaggle和其他打榜为目标的比赛的形式出现。")]),v._v(" "),_("p",[v._v("虽然这是迄今为止我们所知道的遵守波普尔的可证实性（Popper's Falsifiability）原则并有一个共同标准来衡量研究进展的最好方法，但它创造了这种方式只作用在模型上的偏见。而当我们从学术环境转移到构建人工智能产品时，需要的则是更复杂的流程和处理细节。")]),v._v(" "),_("p",[v._v("那么，为什么以模型为中心的观点是有害的？")]),v._v(" "),_("h3",{attrs:{id:"机器学习系统的复杂性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#机器学习系统的复杂性"}},[v._v("#")]),v._v(" 机器学习系统的复杂性")]),v._v(" "),_("p",[v._v("一个机器学习系统的复杂性存在于机器学习模型源代码之外。")]),v._v(" "),_("p",[v._v("2015年，谷歌发表了一篇论文《机器学习系统中隐藏的技术债务》，他们根据自己在机器学习产品方面的经验探讨了这种现象。下面是那篇论文中的图片，显示了大部分复杂性集中的区域，以及系统容易积累技术债务的地方。")]),v._v(" "),_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/tech-debt.png",width:"70%",align:"center"}})]),v._v(" "),_("p",[v._v("开发和部署机器学习模型相对容易，但要让整个机器学习系统做好生产完备性却很难。机器学习系统很复杂，往往会积累技术、研究和文化债务。随着时间的推移，维护它们是非常困难和昂贵的，甚至会对现有业务产生无法挽回的负面影响。")]),v._v(" "),_("h3",{attrs:{id:"机器学习模型反映了它所训练的数据"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#机器学习模型反映了它所训练的数据"}},[v._v("#")]),v._v(" 机器学习模型反映了它所训练的数据")]),v._v(" "),_("p",[v._v("机器学习模型是代码与数据的混合体。我们不是明确地编写程序的算法，而是从给定的样本中推断和拟合出来的。")]),v._v(" "),_("p",[v._v("这意味着数据对所产生的参与学习算法的质量起着关键作用。此外，虽然模型的代码可以大大标准化，并提取到可重复使用的库和工具中，但数据代表了你产品/业务的独特性，你产生的模型只能和你的数据一样好。")]),v._v(" "),_("blockquote",[_("p",[v._v("垃圾进，垃圾出。- GIGO原则。")])]),v._v(" "),_("p",[v._v("这意味着我们需要对数据给予更多的关注：对其进行测试，通过改进进行迭代，并统一和修复我们数据集的标签方案。")]),v._v(" "),_("h3",{attrs:{id:"脆弱性和适应性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#脆弱性和适应性"}},[v._v("#")]),v._v(" 脆弱性和适应性")]),v._v(" "),_("p",[v._v("模型的生命周期并不以初始部署而结束，这对传统的非机器学习算法有效，对高度依赖数据分布稳定性和缺乏可解释性的机器学习模型尤其如此。这些系统是非常脆弱的。")]),v._v(" "),_("p",[v._v("补救措施来自于系统理论中的反馈循环概念：通过引入快速的后向信息流和对这些信息的反馈，可以使系统具有适应性和持久性。")]),v._v(" "),_("p",[v._v("这就要求我们在系统层面上做出个性化的设计。而仅仅专注于模型而不考虑其背景，将导致一个脆弱的、质量差的人工智能产品。")]),v._v(" "),_("h3",{attrs:{id:"单纯的机器学习模型并不能带来价值"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#单纯的机器学习模型并不能带来价值"}},[v._v("#")]),v._v(" 单纯的机器学习模型并不能带来价值")]),v._v(" "),_("p",[v._v("最后，我们为客户提供的价值才是最终的目标。价值——是客户想要的并准备支付的东西，这是精益的核心理念，是DevOps和MLOps实践的核心。一个训练有素的机器学习模型本身并没有带来任何价值。它只是一个二进制文件，并存在于内存或在文件系统的某个地方。而将其纳入到系统作为一个整体才会产生和带来价值。")]),v._v(" "),_("p",[v._v("那么，什么是机器学习系统？")]),v._v(" "),_("h2",{attrs:{id:"什么是机器学习系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是机器学习系统"}},[v._v("#")]),v._v(" 什么是机器学习系统？")]),v._v(" "),_("p",[v._v("让我们来看看机器学习项目的一般价值流。")]),v._v(" "),_("p",[v._v("这是一个迭代的过程，通常包括以下几个阶段：")]),v._v(" "),_("ul",[_("li",[v._v("数据收集 - 我们创建数据集并保持更新。")]),v._v(" "),_("li",[v._v("模型实验 - 我们探索我们的数据，制定和验证关于数据和模型的不同假设，并构建训练和预测管道。")]),v._v(" "),_("li",[v._v("模型部署 - 我们将模型探索和训练的结果管道整合成一个可执行或可调用的工件。")]),v._v(" "),_("li",[v._v("模型运维 - 我们监测模型运行模式，使其与不断变化的环境保持同步。")])]),v._v(" "),_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/ml-sys.png",width:"70%",align:"center"}})]),v._v(" "),_("center",[v._v("机器学习系统的通用流程图")]),v._v(" "),_("p",[v._v("虽然这是一个通用模板，但许多参数决定了你的机器学习项目的独特性。其中一些是：")]),v._v(" "),_("ul",[_("li",[v._v("问题域")]),v._v(" "),_("li",[v._v("项目时间和其他资源限制")]),v._v(" "),_("li",[v._v("数据质量")]),v._v(" "),_("li",[v._v("标签质量和可用性")]),v._v(" "),_("li",[v._v("数据集大小")]),v._v(" "),_("li",[v._v("数据域的可变性")]),v._v(" "),_("li",[v._v("应用基础设施和架构")]),v._v(" "),_("li",[v._v("贵公司的技术架构")])]),v._v(" "),_("p",[v._v("根据现实情况在这个属性空间中的位置，可以设置一套独特的活动、工具和流程。")]),v._v(" "),_("p",[v._v("我喜欢把机器学习系统这一术语定义为所有活动的具体实施，以及使用机器学习方法向客户提供价值的工件。")]),v._v(" "),_("blockquote",[_("p",[v._v("机器学习系统是我们使用机器学习方法向客户提供价值的一种方式。")])]),v._v(" "),_("p",[v._v("一个机器学习系统的具体内容：")]),v._v(" "),_("ul",[_("li",[v._v("我们如何收集、标记和测试数据。")]),v._v(" "),_("li",[v._v("我们如何通过增量改进我们的模型和特征来进行迭代。")]),v._v(" "),_("li",[v._v("我们如何部署模型和部署对它的修改。")]),v._v(" "),_("li",[v._v("我们如何将模型与应用程序的其他部分整合。")]),v._v(" "),_("li",[v._v("我们如何监控它并对环境的变化做出反应。")]),v._v(" "),_("li",[v._v("所有这些都构成了复杂的动态适应性系统。")])]),v._v(" "),_("p",[v._v("让我们看一下机器学习系统的一些例子。")]),v._v(" "),_("h3",{attrs:{id:"早期阶段的poc项目"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#早期阶段的poc项目"}},[v._v("#")]),v._v(" 早期阶段的PoC项目")]),v._v(" "),_("p",[v._v("在一个早期阶段的项目中，我们的目标通常是验证主要的商业假设和机器学习方法对解决问题的适用性。我们花时间确定项目的范围，收集初始数据，并确定目标指标和评估协议。")]),v._v(" "),_("p",[v._v("通常，我们的目标是快速提出一些基线解决方案，然后进行反复改进。因为项目在这个阶段的计划通常不是向用户提供价值，而是验证有一些可以产生价值的假设，最终的结果很可能不是现成的产品，而是一个用户价值验证的原型。这就是为什么我们不把在这个阶段的重点放在部署和运维。相反，我们会更重视优化实验阶段。目标是通过自动化指标和交互式仪表板创造更短的反馈循环。")]),v._v(" "),_("p",[v._v("在这个阶段可以没有成熟的训练基础设施，没有计算资源调度和实验可重复性。通常情况下，数据科学家在一些交互式编码环境（如JupyterHub）中完成大部分工作。")]),v._v(" "),_("p",[v._v("部署是手动的，通常是由数据科学家向机器学习或软件工程师交接模型。")]),v._v(" "),_("p",[v._v("分离代码库区域是实现实验敏捷性和技术成熟度积累之间折中的典型模式。实验区不对代码施加工程质量标准 - 它是短暂的不可重复使用的实验功能区。我们不断地审查、重构，并将稳定的、可重用的功能提取到稳定的代码库区，并将其部署到一个包中。")]),v._v(" "),_("p",[v._v("在这样的项目中，我们通常不怎么关心数据的可观察性或血统。数据科学家仅仅从互动的数据科学环境中创建新的数据集。")]),v._v(" "),_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/ml-poc.png",width:"70%",align:"center"}})]),v._v(" "),_("center",[v._v("一个早期PoC项目的机器学习系统的例子")]),v._v(" "),_("h3",{attrs:{id:"无标签的情况"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#无标签的情况"}},[v._v("#")]),v._v(" 无标签的情况")]),v._v(" "),_("p",[v._v("想象一下，当我们没有合适的质量标签用于一个新启动的项目时，情况会有所不同。")]),v._v(" "),_("p",[v._v("标注过程可能会成为我们价值流的瓶颈，一个合适的标注工具会对项目的成功起到关键作用。")]),v._v(" "),_("p",[v._v("此外，我们可能会利用主动学习的方法来使标注过程更加有效，减少必要的标注工作量。")]),v._v(" "),_("p",[v._v("如果我们的机器学习基础设施足够成熟，我们可以通过一个工作调度器和一个提交界面来实现训练过程的自动化。")]),v._v(" "),_("p",[v._v("最终的机器学习系统可能看起来像这样：")]),v._v(" "),_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/ml-nolable.png",width:"70%",align:"center"}})]),v._v(" "),_("center",[v._v("一个利用主动学习方法的机器学习系统的例子")]),v._v(" "),_("p",[v._v("上图中的边缘代表工件流。它们可以手动或自动执行。它们的自动化程度越高，你的迭代和进展就越快。")]),v._v(" "),_("h3",{attrs:{id:"标签存在于推理的反馈数据中"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#标签存在于推理的反馈数据中"}},[v._v("#")]),v._v(" 标签存在于推理的反馈数据中")]),v._v(" "),_("p",[v._v("让我们想象一下相反的情况-我们有一个正在运行的产品，每天都有用户。我们可以从用户那里获得标签，在推理后纠正模型的错误预测。")]),v._v(" "),_("p",[v._v("我们实施持续训练模式，并将整个周期进行端到端的自动化。数据被自动收集并转化为训练和验证数据集。我们将训练程序自动化，并将其放在CI/CD管道内，并进行自动化单元和数据测试以及模型评估。")]),v._v(" "),_("p",[v._v("我们可以选择持续部署或持续交付策略，并通过引入金丝雀发布和自动回滚来进一步推进它。")]),v._v(" "),_("p",[v._v("模型服务被不断地监测模型性能，当性能下降时，系统会触发重新训练/重新部署程序。")]),v._v(" "),_("div",{attrs:{align:"center"}},[_("img",{attrs:{src:"/mlopskit/ml-ct.png",width:"70%",align:"center"}})]),v._v(" "),_("center",[v._v("一个利用持续训练方法的机器学习系统的例子")]),v._v(" "),_("p",[v._v("这些只是几个比较常见的机器学习系统的例子。还有很多，适合你的将是不同的，反映了你项目的独特性。")]),v._v(" "),_("h2",{attrs:{id:"总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[v._v("#")]),v._v(" 总结")]),v._v(" "),_("p",[v._v("虽然机器学习模型是人工智能产品的核心，但它的复杂性通常不集中在这里。")]),v._v(" "),_("p",[v._v("当我们计划开启机器学习项目时，我们需要从一开始就把注意力转移到机器学习系统这个整体框架上。")]),v._v(" "),_("p",[v._v("我们必须开始更多地思考和讨论这样的系统，并开发一个可重复使用的设计模式和良好实践的机器学习系统。")])],1)}),[],!1,null,null,null);_.default=r.exports}}]);